<!DOCTYPE html>
<html>
    <head>
        <!-- CSS only -->

        <!-- JS, Popper.js, and jQuery -->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        
        <!-- 
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>

        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script> 
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    -->

        <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    </head>

    <body>
        <div class="container mt-5">
            <div class="jumbotron">
                <h1>Samples</h3>
            </div>
            
            <table>
                <thead>
                    <th>Column 1</th>
                </thead>
                <tbody>
                    <tr>
                        <td>i am a field</td>
                    </tr>
                    <tr>
                        <td>i am a field</td>
                    </tr>
                    <tr>
                        <td>i am a field</td>
                    </tr>
                    <tr>
                        <td>i am a field</td>
                    </tr>
                    <tr>
                        <td>i am a field</td>
                    </tr>
                    <tr>
                        <td>i am a field</td>
                    </tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td><div id="btn2" class="dropdown">
                        <button onclick="catchTheClick(event)" class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                          Dropdown
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                          <li><a href="#">Action</a></li>
                          <li><a href="#">Another action</a></li>
                          <li><a href="#">Something else here</a></li>
                          <li role="separator" class="divider"></li>
                          <li><a href="#">Separated link</a></li>
                        </ul>
                    </div>
                    
</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr><td>i am a field</td></tr>
                    <tr>
                        <td>
                            <div id="btn" class="dropdown">
                                <button onclick="catchTheClick(event)" class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                  Dropdown
                                  <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                                  <li><a href="#">Action</a></li>
                                  <li><a href="#">Another action</a></li>
                                  <li><a href="#">Something else here</a></li>
                                  <li role="separator" class="divider"></li>
                                  <li><a href="#">Separated link</a></li>
                                </ul>
                            </div>
                            

                        </td>
                    </tr>
                    
                </tbody>
            </table>
            <button onclick="changeToUp()">Change it</button>
        </div>

        <script>
        let dropDown = true;
        
            function changeToUp(){
                $("#btn").removeClass("dropdown").addClass("dropup");
            }
            function catchTheClick(obj){
                //var page_height = document.body.offsetHeight ? document.body.offsetHeight : document.height;
                var page_height = $(this).innerHeight();
                console.log(`${obj.clientY} ${page_height}`);
                console.log(obj);
                console.log(`${(page_height-obj.clientY)}`);
                
                if ((page_height-obj.clientY) < 160 ){
                    $("#btn2").removeClass("dropdown").addClass("dropup");
                }
                else{
                    $("#btn2").addClass("dropdown").removeClass("dropup");
                     
                }
                
                // if (dropDown){
                //     dropDown = false;
                //     $("#btn").removeClass("dropdown").addClass("dropup");
                // }
                // else {
                //     dropDown = true;
                //     $("#btn").addClass("dropdown").removeClass("dropup");                    
                // }

            }
        </script>
    </body>
</html>